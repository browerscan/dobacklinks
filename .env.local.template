# Dobacklinks Environment Configuration
# Copy this file to .env.local and fill in the values

# -----------------------------------------------------------------------------
# Site info (required)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_PRICING_PATH="/pricing"
NEXT_PUBLIC_OPTIMIZED_IMAGES=false
NEXT_PUBLIC_LOGIN_MODE='dialog'

#------------------------------------------------------------------------
# Database (REQUIRED for development)
# VPS Supabase connection string
#------------------------------------------------------------------------
DATABASE_URL=

# Database Performance Monitoring (optional)
# DB_SLOW_QUERY_THRESHOLD=1000          # Slow query threshold in milliseconds (default: 1000ms)
# DB_MAX_SLOW_QUERIES=100               # Max slow queries to keep in memory (default: 100)
# DB_ENABLE_QUERY_LOGGING=false         # Enable all query logging (default: true in dev, false in prod)
# DB_ENABLE_PERFORMANCE_TRACKING=true   # Enable performance tracking (default: true)

#------------------------------------------------------------------------
# Auth - better-auth (REQUIRED)
# Generate BETTER_AUTH_SECRET using: openssl rand -base64 32
#------------------------------------------------------------------------
BETTER_AUTH_SECRET=

# Google OAuth (optional for testing)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth (optional for testing)
NEXT_PUBLIC_GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

#------------------------------------------------------------------------
# SimilarWeb API (REQUIRED for traffic enrichment)
# VPS API endpoint
#------------------------------------------------------------------------
SIMILARWEB_API_URL=http://your-api-server:3000/api/v1
SIMILARWEB_API_KEY=

#------------------------------------------------------------------------
# Resend Email (optional for development)
#------------------------------------------------------------------------
RESEND_API_KEY=
RESEND_AUDIENCE_ID=
ADMIN_EMAIL=outreach@dobacklinks.com
ADMIN_NAME=Dobacklinks

#------------------------------------------------------------------------
# Cloudflare R2 Storage (REQUIRED for production)
# Screenshots are stored in R2 and served via CDN
#
# Get credentials from Cloudflare Dashboard:
# 1. Go to R2 > Overview > "Manage R2 API Tokens"
# 2. Create API token with "Edit" permissions
# 3. Use the account ID from your Cloudflare dashboard URL
#------------------------------------------------------------------------
R2_ACCOUNT_ID=                          # From Cloudflare dashboard URL
R2_ACCESS_KEY_ID=                       # From R2 API Token
R2_SECRET_ACCESS_KEY=                   # From R2 API Token
R2_BUCKET_NAME=dobacklinks              # Your R2 bucket name
R2_PUBLIC_URL=https://cdn.dobacklinks.com  # Your custom domain for R2

#------------------------------------------------------------------------
# Cron Jobs (REQUIRED for enrichment)
# Generate CRON_SECRET using: openssl rand -hex 32
#------------------------------------------------------------------------
CRON_SECRET=

#------------------------------------------------------------------------
# Rate Limiting (optional)
#------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
DAY_MAX_SUBMISSIONS=30

#------------------------------------------------------------------------
# Cloudflare Turnstile (optional)
#------------------------------------------------------------------------
NEXT_PUBLIC_TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=

# -----------------------------------------------------------------------------
# Analytics (optional)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_GOOGLE_ID=
NEXT_PUBLIC_PLAUSIBLE_SRC=
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=

# -----------------------------------------------------------------------------
# Next Steps After Configuration:
# -----------------------------------------------------------------------------
# 1. Generate secrets:
#    openssl rand -base64 32  # For BETTER_AUTH_SECRET
#    openssl rand -hex 32     # For CRON_SECRET
#
# 2. Run database migrations:
#    pnpm db:generate
#    pnpm db:push
#
# 3. Create system user (see scripts/create-system-user.sql)
#
# 4. Import sites data:
#    pnpm db:import-sites:dry-run  # Preview
#    pnpm db:import-sites           # Execute
#
# 5. Trigger SimilarWeb enrichment:
#    curl -X GET http://localhost:3000/api/cron/enrich-sites \
#      -H "Authorization: Bearer YOUR_CRON_SECRET"
